### 09 | 块级作用域：var缺陷以及为什么要引入let和const？

# 作用域
    作用域是指在程序中定义变量的区域，该位置决定了变量的生命周期。通俗地理解，作用域就是变量与函数的可访问范围，即作用域控制着变量和函数的可见性和生命周期。

- es6之前
    1. **全局作用域**中的对象在代码中的任何地方都能访问，其生命周期伴随着页面的生命周期。
    2. 函数作用域就是在函数内部定义的变量或者函数，并且定义的变量或者函数只能在函数内部被访问。函数执行结束之后，函数内部定义的变量会被销毁。

- 变量提升所带来的问题：
    1. 变量容易在不被察觉的情况下被覆盖掉
    2. 本应销毁的变量没有被销毁
- ES6 解决变量提升带来的缺陷
    **引入了 let 和 const 关键字** 使js支持块级作用域。

    var 声明的变量，在编译阶段全都被存放到变量环境里面了。
    通过 let 声明的变量，在编译阶段会被存放到词法环境（Lexical Environment）中。

```js
function foo(){
    var a = 1
    let b = 2
    {
      let b = 3
      var c = 4
      let d = 5
      console.log(a)
      console.log(b)
    }
    console.log(b) 
    console.log(c)
    console.log(d)
}   
foo()
```
执行上下文  如图：

